{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useMeQuery } from '../generated/graphql';\nimport { useRouter } from 'next/dist/client/router';\nimport { useEffect } from 'react';\nexport var useIsAuth = function useIsAuth() {\n  _s();\n\n  var _useMeQuery = useMeQuery(),\n      data = _useMeQuery.data,\n      loading = _useMeQuery.loading;\n\n  var router = useRouter();\n  useEffect(function () {\n    if (!loading && !(data === null || data === void 0 ? void 0 : data.me)) {\n      router.replace('/login?next=' + router.pathname); // router.push('/login');\n    }\n  }, [loading, data, router]);\n};\n\n_s(useIsAuth, \"HFzD9whMdVlJlXTSiGTGw6bEFlE=\", false, function () {\n  return [useMeQuery, useRouter];\n});","map":{"version":3,"sources":["C:/Users/mj/Documents/Codes/PROJECTS/quizshare-typescript/client/src/utils/useIsAuth.ts"],"names":["useMeQuery","useRouter","useEffect","useIsAuth","data","loading","router","me","replace","pathname"],"mappings":";;AAAA,SAASA,UAAT,QAA2B,sBAA3B;AACA,SAASC,SAAT,QAA0B,yBAA1B;AACA,SAASC,SAAT,QAA0B,OAA1B;AAEA,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AAAA;;AAAA,oBACJH,UAAU,EADN;AAAA,MACtBI,IADsB,eACtBA,IADsB;AAAA,MAChBC,OADgB,eAChBA,OADgB;;AAE9B,MAAMC,MAAM,GAAGL,SAAS,EAAxB;AAEAC,EAAAA,SAAS,CAAC,YAAM;AACf,QAAI,CAACG,OAAD,IAAY,EAACD,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEG,EAAP,CAAhB,EAA2B;AAC1BD,MAAAA,MAAM,CAACE,OAAP,CAAe,iBAAiBF,MAAM,CAACG,QAAvC,EAD0B,CAE1B;AACA;AACD,GALQ,EAKN,CAACJ,OAAD,EAAUD,IAAV,EAAgBE,MAAhB,CALM,CAAT;AAMA,CAVM;;GAAMH,S;UACcH,U,EACXC,S","sourcesContent":["import { useMeQuery } from '../generated/graphql';\r\nimport { useRouter } from 'next/dist/client/router';\r\nimport { useEffect } from 'react';\r\n\r\nexport const useIsAuth = () => {\r\n\tconst { data, loading } = useMeQuery();\r\n\tconst router = useRouter();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!loading && !data?.me) {\r\n\t\t\trouter.replace('/login?next=' + router.pathname);\r\n\t\t\t// router.push('/login');\r\n\t\t}\r\n\t}, [loading, data, router]);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}